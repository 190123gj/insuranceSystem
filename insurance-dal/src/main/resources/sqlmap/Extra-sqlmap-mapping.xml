<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>estate-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>rent</tt>      -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>estate-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author peigen                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="fcspm">
	

	<!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->
    
    <!-- 表单结果通用 -->
    <resultMap id="RM-EXTRA-SIMPLE-FORM" class="com.born.insurance.dataobject.SimpleFormDO">
        <result property="formId" column="form_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="formCode" column="form_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formName" column="form_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formUrl" column="form_url" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formStatus" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="detailStatus" column="detail_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actDefId" column="act_def_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actInstId" column="act_inst_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="taskId" column="task_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="runId" column="run_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="defId" column="def_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="formUserId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="formUserAccount" column="user_account" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formUserName" column="user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formDeptId" column="form_dept_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="formDeptName" column="form_dept_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formDeptCode" column="form_dept_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formDeptPath" column="form_dept_path" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="formDeptPathName" column="form_dept_path_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="checkStatus" column="check_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="relatedProjectCode" column="related_project_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="taskUserData" column="task_user_data" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="remark" column="remark" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="trace" column="trace" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="submitTime" column="submit_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="finishTime" column="finish_time" javaType="java.util.Date" jdbcType="DATETIME"/>        
        <result property="formAddTime" column="form_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="formUpdateTime" column="form_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>
    
    <resultMap id="RM-EXTRA-SIMPLE-FORM-M" class="com.born.insurance.dataobject.CompanyInfoVo">
    	<result property="customerId" column="customer_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerName" column="customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="enterpriseType" column="enterprise_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="registerCapital" column="register_capital" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="actualCapital" column="actual_capital" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="establishedTime" column="established_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="scale" column="scale" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="staffNum" column="staff_num" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="contactMan" column="contact_man" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiScope" column="busi_scope" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="websit" column="websit" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="legalPersion" column="legal_persion" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="legalPersionCertNo" column="legal_persion_cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="legalPersionAddress" column="legal_persion_address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlMan" column="actual_control_man" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlManCertNo" column="actual_control_man_cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlManCertType" column="actual_control_man_cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlManAddress" column="actual_control_man_address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="userId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="contactMobile" column="contact_mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certType" column="cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certNo" column="cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certExpDate" column="cert_exp_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="countryCode" column="country_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countryName" column="country_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceCode" column="province_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceName" column="province_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityCode" column="city_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityName" column="city_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyCode" column="county_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyName" column="county_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="address" column="address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="email" column="email" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="mobile" column="mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="telphone" column="telphone" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="fix" column="fix" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="weixin" column="weixin" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="qq" column="qq" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="businessUserId" column="business_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessUserName" column="business_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerType" column="customer_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
    </resultMap>
    

 	<resultMap id="MS-EXTRA-RELATION-SEELCT-RELATION-LIST-M" class="com.born.insurance.dataobject.CompanyRelationExtraDO">
 		<result property="userId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerId" column="customer_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerName" column="customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="contactMobile" column="contact_mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certType" column="cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certNo" column="cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certExpDate" column="cert_exp_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="countryCode" column="country_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countryName" column="country_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceCode" column="province_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceName" column="province_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityCode" column="city_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityName" column="city_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyCode" column="county_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyName" column="county_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="address" column="address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="email" column="email" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="mobile" column="mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="telphone" column="telphone" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="fix" column="fix" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="weixin" column="weixin" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="qq" column="qq" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="businessUserId" column="business_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessUserName" column="business_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerType" column="customer_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <!--   <result property="relationId" column="relation_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="parentName" column="parent_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="parentId" column="parent_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="childName" column="child_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="childId" column="child_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="memberNo" column="member_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="typeId" column="type_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="typeName" column="type_name" javaType="java.lang.String" jdbcType="VARCHAR"/> -->
 	</resultMap>
	

	<resultMap id="RM-EXTRA-PERSONAL-CUSTOMER-DETAIL-M" class="com.born.insurance.dataobject.CustomerPersonalDO">
		<result property="userId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerId" column="customer_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerName" column="customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="contactMobile" column="contact_mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certType" column="cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certNo" column="cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certExpDate" column="cert_exp_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="countryCode" column="country_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countryName" column="country_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceCode" column="province_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceName" column="province_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityCode" column="city_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityName" column="city_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyCode" column="county_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyName" column="county_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="address" column="address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="email" column="email" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="mobile" column="mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="telphone" column="telphone" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="fix" column="fix" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="weixin" column="weixin" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="qq" column="qq" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="businessUserId" column="business_user_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="businessUserName" column="business_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerType" column="customer_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="orgId" column="org_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="nation" column="nation" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="birthDay" column="birthDay" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="maritalStatus" column="marital_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="company" column="company" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="dept" column="dept" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="job" column="job" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="sex" column="sex" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="abbr1" column="abbr1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="abbr2" column="abbr2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="abbr3" column="abbr3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="ownerId" column="owner_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="ownerUserName" column="owner_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="refereeId" column="referee_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="refereeName" column="referee_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="remark" column="remark" javaType="java.lang.String" jdbcType="VARCHAR"/>
	</resultMap>
	
	
	


	 <resultMap id="RM2-CUSTOMER-PROTOCOL" class="com.born.insurance.dataobject.CustomerProtocolVo">
        <result property="id" column="id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
    	<result property="customerType" column="customer_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
    	<result property="certType" column="cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certNo" column="cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="name" column="name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="no" column="no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerUserId" column="customer_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerUserName" column="customer_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="beginDate" column="beginDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="endDate" column="endDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>






<resultMap id="RM-EXTRA-COMPANY-CUSTOMER-DETAIL-M" class="com.born.insurance.dataobject.CustomerCompanyDO">
		 <result property="userId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerId" column="customer_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerName" column="customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="contactMobile" column="contact_mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certType" column="cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certNo" column="cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="certExpDate" column="cert_exp_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="countryCode" column="country_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countryName" column="country_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceCode" column="province_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="provinceName" column="province_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityCode" column="city_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="cityName" column="city_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyCode" column="county_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="countyName" column="county_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="address" column="address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="email" column="email" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="mobile" column="mobile" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="telphone" column="telphone" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="fix" column="fix" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="weixin" column="weixin" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="qq" column="qq" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="businessUserId" column="business_user_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="businessUserName" column="business_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerType" column="customer_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
         <result property="enterpriseType" column="enterprise_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="registerCapital" column="register_capital" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="actualCapital" column="actual_capital" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="establishedTime" column="established_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="scale" column="scale" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="staffNum" column="staff_num" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="contactMan" column="contact_man" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="contactEmail" column="contact_email" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiScope" column="busi_scope" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="websit" column="websit" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="legalPersion" column="legal_persion" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="legalPersionCertNo" column="legal_persion_cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="legalPersionAddress" column="legal_persion_address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlMan" column="actual_control_man" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlManCertNo" column="actual_control_man_cert_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlManCertType" column="actual_control_man_cert_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="actualControlManAddress" column="actual_control_man_address" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="abbr1" column="abbr1" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="abbr2" column="abbr2" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="abbr3" column="abbr3" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="parentId" column="parent_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="parentName" column="parent_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="kind" column="kind" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="ownerId" column="owner_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="ownerUserName" column="owner_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="companyType" column="company_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="companyNature" column="company_nature" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="outUser" column="out_user" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="remark" column="remark" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="contactManId" column="contact_man_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
         <result property="refereeId" column="referee_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="refereeName" column="referee_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
	</resultMap>


    <resultMap id="MS-EXTRA-RM-PRICE-CONTACT-LETTER" extends="RM-EXTRA-SIMPLE-FORM" class="com.born.insurance.dataobject.PriceContactLetterExtraDo">
        <result property="id" column="id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="billNo" column="bill_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="priceType" column="price_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="priceTemplate" column="price_template" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="catalogId" column="catalog_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessConditionId" column="business_condition_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessConditions" column="business_conditions" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="name" column="name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerUserId" column="customer_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerUserName" column="customer_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="version" column="version" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="ext" column="ext" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="status" column="letterStatus" javaType="java.lang.String" jdbcType="VARCHAR"/>

    </resultMap>
    
    
    <resultMap id="MS-EXTRA-RM-BUSINESS-BILL" extends="RM-EXTRA-SIMPLE-FORM" class="com.born.insurance.dataobject.BusinessBillFormDO">
               <result property="businessBillId" column="business_bill_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="letterId" column="letter_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="insuranceOfType" column="insurance_of_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="billNo" column="bill_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="priceNo" column="price_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="renewalNo" column="renewal_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="batchNo" column="batch_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceDepart" column="insurance_depart" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceTeam" column="insurance_team" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceBrokerNo" column="insurance_broker_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceBrokerName" column="insurance_broker_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceNo" column="insurance_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="invoiceNo" column="invoice_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="billCustomerId" column="bill_customer_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="billCustomerName" column="bill_customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="billInsuredId" column="bill_insured_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="billInsuredName" column="bill_insured_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceTypeId" column="insurance_type_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="insuranceTypeName" column="insurance_type_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceCatalogId" column="insurance_catalog_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="insuranceCatalogName" column="insurance_catalog_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceAmount" column="insurance_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="premiumAmount" column="premium_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="insuranceDate" column="insuranceDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="beginDate" column="beginDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="endDate" column="endDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="businessUserId" column="business_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessUserName" column="business_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceCompanyId" column="insurance_company_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="insuranceCompanyName" column="insurance_company_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="agencyCompanyId" column="agency_company_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="agencyCompanyName" column="agency_company_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
       	<result property="brokerScale" column="broker_scale" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="commonScale" column="common_scale" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="grossRate" column="gross_rate" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="grossProfit" column="gross_profit" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="brokerVal" column="broker_val" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="commonVal" column="common_val" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="remark" column="remark" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="sorceBusinessBillId" column="sorce_business_bill_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="billStatus" column="bill_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="version" column="version" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>
    
    <resultMap id="MS-BILL-SETTLEMENT-EXTRA-M" class="com.born.insurance.dataobject.BillSettlementApplyFormDO" extends="RM-EXTRA-SIMPLE-FORM">
	    <result property="id" column="id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessBillId" column="business_bill_id" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceNo" column="insurance_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="brokerRank" column="broker_rank" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="settlementNo" column="settlement_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="type" column="type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rowAddTime" column="row_add_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="rowUpdateTime" column="row_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
	</resultMap>
	
	
	 <resultMap id="MS-BILL-SETTLEMENT-NOTICE-EXTRA-M" class="com.born.insurance.dataobject.ChargeNoticeFormDO" extends="RM-EXTRA-SIMPLE-FORM">
	    <result property="id" column="id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="businessBillId" column="business_bill_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="depart" column="depart" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="team" column="team" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="noticeDate" column="notice_date" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="insuranceNo" column="insurance_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceTypeName" column="insurance_type_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="billCustomerName" column="bill_customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="premiumAmount" column="premium_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="recievableFee" column="recievable_fee" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="recievedFee" column="recieved_fee" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="payFee" column="pay_fee" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="reservedScale" column="reserved_scale" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="noticeNo" column="notice_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="billNo" column="bill_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceBrokerNo" column="insurance_broker_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="insuranceBrokerName" column="insurance_broker_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="commissionType" column="commission_type" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="persistencyRateWard" column="persistency_rate_ward" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="manageGrant" column="manage_grant" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="packageFee" column="package_fee" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="insuranceOther" column="insurance_other" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="rowAddTime" column="row_add_time" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="rowUpdateTime" column="row_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
	</resultMap>
    

	<resultMap id="MS-CUSTOMER-RELATION-FIND-BY-ID-EXTRA-M" class="com.born.insurance.dal.dataobject.CustomerRelationDO">
		<result property="relationId" column="relation_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="parentName" column="parent_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="parentId" column="parent_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="childName" column="child_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="childId" column="child_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="memberNo" column="member_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="typeId" column="type_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="typeName" column="type_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
	</resultMap>
	
	
 	<resultMap id="MS-EXTRA-RM-PROJECT-SET-UP" extends="RM-EXTRA-SIMPLE-FORM" class="com.born.insurance.dataobject.ProjectSetupExtraDO">
        <result property="projectSetupId" column="project_setup_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="projectSetupName" column="project_setup_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerUserId" column="customer_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerUserName" column="customer_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="beginDate" column="beginDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="endDate" column="endDate" javaType="java.util.Date" jdbcType="DATETIME"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>
    
    
    <resultMap id="MS-EXTRA-RM-INSURANCE-CONTACT-LETTER" extends="RM-EXTRA-SIMPLE-FORM" class="com.born.insurance.dataobject.InsuranceContactLetterExtraDO">
        <result property="letterId" column="letter_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerUserId" column="customer_user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerUserName" column="customer_user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerUserPhone" column="customer_user_phone" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="letterStatus" column="letter_status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="productId" column="product_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="productName" column="product_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
    	<result property="insuranceType" column="insurance_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
    	<result property="isQuota" column="is_quota" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="creatorId" column="creator_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="creatorName" column="creator_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>


  <resultMap id="MS-EXTRA-RM-PERSON-COMMISSION-DETAIL"  class="com.born.insurance.dal.dataobject.PersonCommissionDetailDO">
        <result property="commissionAmount" column="commission_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="commissionTime" column="commission_time" javaType="java.util.Date" jdbcType="DATETIME"/>
    </resultMap>





    <!-- mapped statement for IbatisExtraDAO.getSysdate -->
    <select id="MS-COMMON-GET-SYSDATE" resultClass="java.util.Date">
        <![CDATA[
			select current_timestamp from dual
		]]>
    </select>

    <insert id="MS-EXTRA-SYS-DATE-SEQ-INSERT">
        <![CDATA[
	        insert into sys_date_seq(name,seq_date,max_number,raw_add_time) values (#name#,#seqDate#,LAST_INSERT_ID(1),#rawAddTime#)
	    ]]>
        <selectKey resultClass="long" keyProperty="id">
            <![CDATA[SELECT LAST_INSERT_ID() AS ID ]]>
        </selectKey>
    </insert>
    <insert id="MS-EXTRA-SYS-DATE-SEQ-UPDATE">
        <![CDATA[
	        update sys_date_seq set max_number=LAST_INSERT_ID(max_number+#cacheNumber#) where name=#name# and seq_date=#seqDate#
	    ]]>

        <selectKey resultClass="long" keyProperty="id">
            <![CDATA[SELECT LAST_INSERT_ID() AS ID ]]>
        </selectKey>
    </insert>
    <select id="MS-EXTRA-SYS-DATE-SEQ-SELECT" resultClass="long" parameterClass="java.util.Map">
        <![CDATA[
	        SELECT max_number from sys_date_seq where name=#name# and seq_date=#seqDate#
	    ]]>
    </select>
    
	<!-- 表单部分通用SQl -->
    <sql id="formCommonSql">
    	f.form_id, f.form_code, f.form_name,f.form_url,f.act_inst_id,f.run_id,f.def_id,f.act_def_id,f.task_id,f.detail_status,f.status, f.user_id, f.user_account,f.user_name, f.dept_id form_dept_id, f.dept_name form_dept_name,f.dept_code form_dept_code,f.dept_path form_dept_path,f.dept_path_name form_dept_path_name,f.check_status, f.submit_time, f.finish_time, f.raw_add_time form_add_time, f.raw_update_time form_update_time,f.related_project_code,f.task_user_data,f.remark,f.trace
    </sql>

    

    <!-- 表单权限通用sql -->
    <sql id="formPermissionSql">
 		  <isGreaterThan property="loginUserId"  compareValue="0">
	            JOIN (SELECT COUNT(*) rnum,form_id FROM form_related_user 
	            	   WHERE user_id = #loginUserId# GROUP BY form_id) rl
    			  ON rl.form_id = f.form_id AND rl.rnum > 0
	      </isGreaterThan>    	
	      <isNotEmpty property="deptIdList">
	            JOIN (SELECT COUNT(*) rnum,form_id FROM form_related_user
	            	   WHERE dept_id in 
	            	   		<iterate property="deptIdList" open="(" close=")" conjunction=",">
								#deptIdList[]#
							</iterate>
					   GROUP BY form_id) rl
    			  ON rl.form_id = f.form_id AND rl.rnum > 0
	      </isNotEmpty>     
    </sql>    
    
    
    <select id="MS-EXTRA-COMPANY-SEELCT-COUNT" resultClass="long">
        <![CDATA[
	        SELECT count(1) from customer_base_info cu,customer_company_detail cup  where cu.customer_id=cup.customer_id 
	    ]]>
	    <dynamic>
	            <isNotEmpty property="customerName" prepend=" and ">
	                customer_name = #customerName#
	            </isNotEmpty>
				<isNotEmpty property="customerType" prepend=" and ">
	              cu.customer_type = #customerType#
	            </isNotEmpty>
	            <isNotEmpty property="telphone" prepend=" and ">
	                telphone = #telphone#
	            </isNotEmpty>
	            <isNotEmpty property="certNo" prepend=" and ">
	                cert_no = #certNo#
	            </isNotEmpty>
	        </dynamic>
    </select>
    
    
        <select id="MS-EXTRA-RELATION-SEELCT-COUNT" resultClass="long">
        <![CDATA[
	        SELECT count(1) from customer_relation where 1=1
	    ]]>
	    <dynamic>
	            <isNotEmpty property="parentId" prepend=" and ">
	                parent_id = #parentId#
	            </isNotEmpty>
	    </dynamic>
    </select>
    
    
    

	    <select id="MS-EXTRA-COMPANY-SEELCT" resultMap="RM-EXTRA-SIMPLE-FORM-M">
        <![CDATA[
	        SELECT * from customer_base_info cu,customer_company_detail cup  where cu.customer_id=cup.customer_id 
	    ]]>
	    <dynamic>
	            <isNotEmpty property="customerName" prepend=" and ">
	                customer_name = #customerName#
	            </isNotEmpty>
				<isNotEmpty property="customerType" prepend=" and ">
	              cu.customer_type = #customerType#
	            </isNotEmpty>
	            <isNotEmpty property="telphone" prepend=" and ">
	                telphone = #telphone#
	            </isNotEmpty>
	            <isNotEmpty property="certNo" prepend=" and ">
	                cert_no = #certNo#
	            </isNotEmpty>
	        </dynamic>
	        <isGreaterThan property="pageSize" compareValue="0"  prepend=" ">
				LIMIT #limitStart#,#pageSize#
			</isGreaterThan>
    </select>


   <select id="MS-EXTRA-RELATION-SEELCT-RELATION-LIST" resultMap="MS-EXTRA-RELATION-SEELCT-RELATION-LIST-M">
        <![CDATA[
	        SELECT i.* FROM customer_base_info i,customer_relation ir WHERE i.user_id=ir.child_id 
	    ]]>
	    <dynamic>
	            <isNotEmpty property="queryOrder.parentId" prepend=" and ">
	               	ir.parent_id = #queryOrder.parentId#
	            </isNotEmpty>
	        </dynamic>
	        <isGreaterThan property="pageSize" compareValue="0"  prepend=" ">
				LIMIT #limitStart#,#pageSize#
			</isGreaterThan>
    </select>
    
    
   <select id="MS-PERSONAL-CUSTOMER-DETAIL-FIND-BY-ID" resultMap="RM-EXTRA-PERSONAL-CUSTOMER-DETAIL-M">
        <![CDATA[
	        SELECT cu.user_id,cu.customer_id,cu.customer_name,cu.contact_mobile,cu.cert_type,cu.cert_no,cu.cert_exp_date,
	        cu.country_code,cu.country_name,cu.province_code,cu.province_name,cu.city_code,cu.city_name,cu.county_code,
	        cu.county_name,cu.address,cu.email,cu.mobile,cu.telphone,cu.fix,cu.weixin,cu.qq,cu.referee_id,cu.referee_name,cu.remark,
	        cu.status,cu.business_user_id,cu.business_user_name,cu.creator_id,cu.creator_name,cu.abbr1,cu.abbr2,cu.abbr3,cu.owner_id ,cu.owner_user_name,
	        cu.customer_type,cu.raw_add_time,cu.raw_update_time,cup.org_id,cup.nation,cup.birthDay,cup.marital_status,
	        cup.company,cup.dept,cup.job,cup.sex from customer_base_info cu,customer_person_detail cup
	        where cu.customer_id=cup.customer_id
	    ]]>
	     <dynamic>
	      <isNotEmpty property="userId" prepend=" and ">
	               	cu.user_id = #userId#
	            </isNotEmpty>
	         </dynamic>
    </select>

<select id="MS-COMPANY-CUSTOMER-DETAIL-FIND-BY-ID" resultMap="RM-EXTRA-COMPANY-CUSTOMER-DETAIL-M">
        <![CDATA[
	         SELECT cu.user_id,cu.customer_id,cu.customer_name,cu.contact_mobile,cu.cert_type,cu.cert_no,cu.cert_exp_date,
	        cu.country_code,cu.country_name,cu.province_code,cu.province_name,cu.city_code,cu.city_name,cu.county_code,
cu.county_name,cu.address,cu.email,cu.mobile,cu.telphone,cu.fix,cu.weixin,cu.qq,cu.status,cu.business_user_id,cu.business_user_name,cu.abbr1,cu.abbr2,cu.abbr3,cu.owner_id ,cu.owner_user_name,cu.out_user,cu.remark,
cu.creator_id,cu.creator_name,cu.customer_type,cu.raw_add_time,cu.raw_update_time,cu.abbr1,cu.abbr2,cu.abbr3,cup.enterprise_type,cup.register_capital,cu.referee_id,cu.referee_name,
cup.actual_capital,cup.established_time,cup.scale,cup.staff_num,cup.contact_man,cup.contact_email,cup.busi_scope,cup.websit,cup.legal_persion,cup.legal_persion_cert_no,cup.contact_man_id,
cup.legal_persion_address,cup.actual_control_man,cup.actual_control_man_cert_no,cup.actual_control_man_cert_type,cup.actual_control_man_address,cup.parent_id,cup.parent_name,cup.kind,cup.company_type,cup.company_nature
FROM customer_base_info cu,customer_company_detail cup
	        WHERE cu.customer_id=cup.customer_id
	    ]]>
	     <dynamic>
	      <isNotEmpty property="userId" prepend=" and ">
	               	cu.user_id = #userId#
	            </isNotEmpty>
	         </dynamic>
    </select>

    <select id="MS-CUSTOMER-RELATION-FIND-BY-ID-EXTRA" resultMap="MS-CUSTOMER-RELATION-FIND-BY-ID-EXTRA-M">
    	<![CDATA[
    		SELECT * FROM customer_relation WHERE 1=1
    	]]>
    	<dynamic>
    		<isNotEmpty property="parentId" prepend=" and ">
    			parent_id=#parentId#
    		</isNotEmpty>
    		<isNotEmpty property="childId" prepend=" and ">
    			child_id=#childId#
    		</isNotEmpty>
    	</dynamic>
    </select>


       <update id="MS-CUSTOMER-RELATION-UPDATE-EXTRA">
		    <![CDATA[
		        UPDATE /*MS-YRD-CUSTOMER-RELATION-UPDATE*/ customer_relation SET parent_name=#parentName#, parent_id=#parentId#, child_name=#childName#, child_id=#childId#, member_no=#memberNo#, type_id=#typeId#, type_name=#typeName# where 1=1
		    ]]>
		    <dynamic>
		    	<isNotEmpty property="parentId" prepend=" and ">
		    	parent_id=#parentId#
		    	</isNotEmpty>
		    	<isNotEmpty property="childId" prepend=" and ">
		    	child_id=#childId#
		    	</isNotEmpty>
		    </dynamic>
       </update>



    <select id="MS-PERSONAL-CUSTOMER-BY-CONDITION-EXTRA" resultMap="RM-EXTRA-PERSONAL-CUSTOMER-DETAIL-M">

	        SELECT cu.user_id,cu.customer_id,cu.customer_name,cu.contact_mobile,cu.cert_type,cu.cert_no,cu.cert_exp_date,
	        cu.country_code,cu.country_name,cu.province_code,cu.province_name,cu.city_code,cu.city_name,cu.county_code,cu.remark,
	        cu.county_name,cu.address,cu.email,cu.mobile,cu.telphone,cu.fix,cu.weixin,cu.qq,cu.owner_id ,cu.owner_user_name,cu.referee_id,cu.referee_name,
        cu.status,cu.business_user_id,cu.business_user_name,cu.creator_id,cu.creator_name,cu.abbr1,cu.abbr2,cu.abbr3,cu.owner_id ,cu.owner_user_name,
	        cu.customer_type,cu.raw_add_time,cu.raw_update_time,cup.org_id,cup.nation,cup.birthDay,cup.marital_status,
	        cup.company,cup.dept,cup.job,cup.sex from customer_base_info cu
	        <isNotEmpty property="customerPersonalDO.certType">
                JOIN (SELECT COUNT(*) rnum,cert.user_id FROM customer_cert_info cert
                WHERE cert.cert_type = #customerPersonalDO.certType#  GROUP BY cert.user_id) rl
                ON rl.user_id = cu.user_id AND rl.rnum > 0
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.certNo">
                JOIN (SELECT COUNT(*) rnum,cert.user_id FROM customer_cert_info cert
                WHERE cert.cert_no = #customerPersonalDO.certNo#  GROUP BY cert.user_id) rl2
                ON rl2.user_id = cu.user_id AND rl2.rnum > 0
            </isNotEmpty>
	        ,customer_person_detail cup
	        where cu.customer_id=cup.customer_id

        <dynamic>
            <isNotEmpty property="customerPersonalDO.customerName" prepend=" and ">
                cu.customer_name like concat('%', #customerPersonalDO.customerName#, '%')
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.mobile" prepend=" and ">
                cu.mobile  like concat('%', #customerPersonalDO.mobile#, '%')
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.businessUserId" prepend=" and ">
                (cu.business_user_id like concat('%', #customerPersonalDO.businessUserId#, '%') or cu.business_user_id is null or cu.business_user_id='')
            </isNotEmpty>


            <isNotEmpty property="customerPersonalDO.customerType"   prepend=" and ">
                cu.customer_type = #customerPersonalDO.customerType#
            </isNotEmpty>


            <isNotEmpty property="sortCol" prepend=" order by ">
                $sortCol$
                <isNotEmpty property="sortOrder">
                    $sortOrder$
                </isNotEmpty>
            </isNotEmpty>

            <isEmpty property="sortCol" prepend=" order by ">
                cu.raw_add_time desc,cu.raw_update_time desc
            </isEmpty>
        </dynamic>

        LIMIT #limitStart#,#pageSize#;
    </select>



    <select id="MS-PERSONAL-CUSTOMER-COUNT-BY-CONDITION-EXTRA"  resultClass="long">

	        SELECT count(*) from customer_base_info cu
	          <isNotEmpty property="customerPersonalDO.certType">
                JOIN (SELECT COUNT(*) rnum,cert.user_id FROM customer_cert_info cert
                WHERE cert.cert_type = #customerPersonalDO.certType#  GROUP BY cert.user_id) rl
                ON rl.user_id = cu.user_id AND rl.rnum > 0
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.certNo">
                JOIN (SELECT COUNT(*) rnum,cert.user_id FROM customer_cert_info cert
                WHERE cert.cert_no = #customerPersonalDO.certNo#  GROUP BY cert.user_id) rl2
                ON rl2.user_id = cu.user_id AND rl2.rnum > 0
            </isNotEmpty>
             ,customer_person_detail cup
	        where cu.customer_id=cup.customer_id

        <dynamic>
            <isNotEmpty property="customerPersonalDO.customerName" prepend=" and ">
                cu.customer_name like concat('%', #customerPersonalDO.customerName#, '%')
            </isNotEmpty>
            <isNotEmpty property="customerPersonalDO.mobile" prepend=" and ">
                cu.mobile like concat('%', #customerPersonalDO.mobile#, '%')
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.customerType"   prepend=" and ">
                cu.customer_type = #customerPersonalDO.customerType#
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.customerName" prepend=" and ">
                cu.customer_name like concat('%', #customerPersonalDO.customerName#, '%')
            </isNotEmpty>

            <isNotEmpty property="customerPersonalDO.businessUserId" prepend=" and ">
                (cu.business_user_id like concat('%', #customerPersonalDO.businessUserId#, '%') or cu.business_user_id is null or cu.business_user_id='')
            </isNotEmpty>
        </dynamic>
    </select>
    
    <select id="MS-EXTRA-CUSTOMER-SEELCT-CUSTOMERPROTOCOL-LIST" resultMap="RM2-CUSTOMER-PROTOCOL" >
	SELECT
	a.id,a.no,a.`name`,b.`customer_type`,a.customer_user_id,a.`customer_user_name`,b.`cert_type`,b.`cert_no`,a.status,a.`raw_add_time`,a.`beginDate`,a.`endDate`
	FROM `customer_protocol` a ,customer_base_info b where
	a.`customer_user_id` = b.`user_id`
   			<dynamic>
	            <isNotEmpty property="queryOrder.customerUserName"   prepend=" and ">
	                a.customer_user_name like concat('%', #queryOrder.customerUserName#, '%')
	            </isNotEmpty>
				<isNotEmpty property="queryOrder.customerType"   prepend=" and ">
	                b.customer_type = #queryOrder.customerType#
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.certType"   prepend=" and ">
	                b.cert_type = #queryOrder.certType#
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.certNo"  prepend=" and ">
	                b.cert_no = #queryOrder.certNo#
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.status"  prepend=" and ">
	                <isEqual property="queryOrder.status" compareValue="NORMAL">
					<![CDATA[ DATE_FORMAT(a.beginDate,'%Y-%m-%d') <=DATE_FORMAT(#date#,'%Y-%m-%d') and DATE_FORMAT(a.endDate,'%Y-%m-%d') >=DATE_FORMAT(#date#,'%Y-%m-%d') ]]>
					</isEqual>
					 <isEqual property="queryOrder.status" compareValue="EXPIRE">
					<![CDATA[ DATE_FORMAT(a.beginDate,'%Y-%m-%d') > DATE_FORMAT(#date#,'%Y-%m-%d') or DATE_FORMAT(a.endDate,'%Y-%m-%d') < DATE_FORMAT(#date#,'%Y-%m-%d') ]]>
					</isEqual>
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.name"  prepend=" and ">
	                a.name like concat('%', #queryOrder.name#, '%')
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.id"  prepend=" and ">
	                <![CDATA[ a.id <> #queryOrder.id#  ]]>
	            </isNotEmpty>
	        </dynamic>
	        ORDER BY raw_add_time DESC
    LIMIT #limitStart#,#pageSize#;
    </select>
    
    
    <select id="MS-EXTRA-CUSTOMER-SEELCT-CUSTOMERPROTOCOL-LIST-COUNT" resultClass="long">
    	SELECT count(*)
	FROM `customer_protocol` a , customer_base_info b where
	a.`customer_user_id` = b.`user_id`
			<dynamic>
	            <isNotEmpty property="queryOrder.customerUserName"   prepend=" and ">
	                a.customer_user_name like concat('%', #queryOrder.customerUserName#, '%')
	            </isNotEmpty>
				<isNotEmpty property="queryOrder.customerType"   prepend=" and ">
	                b.customer_type = #queryOrder.customerType#
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.certType"   prepend=" and ">
	                b.cert_type = #queryOrder.certType#
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.certNo"  prepend=" and ">
	                b.cert_no = #queryOrder.certNo#
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.status"  prepend=" and ">
	                <isEqual property="queryOrder.status" compareValue="NORMAL">
					<![CDATA[ DATE_FORMAT(a.beginDate,'%Y-%m-%d') <=DATE_FORMAT(#date#,'%Y-%m-%d') and DATE_FORMAT(a.endDate,'%Y-%m-%d') >=DATE_FORMAT(#date#,'%Y-%m-%d') ]]>
					</isEqual>
					 <isEqual property="queryOrder.status" compareValue="EXPIRE">
					<![CDATA[ DATE_FORMAT(a.beginDate,'%Y-%m-%d') > DATE_FORMAT(#date#,'%Y-%m-%d') or DATE_FORMAT(a.endDate,'%Y-%m-%d') < DATE_FORMAT(#date#,'%Y-%m-%d') ]]>
					</isEqual>
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.name"  prepend=" and ">
	                 a.name like concat('%', #queryOrder.name#, '%')
	            </isNotEmpty>
	            <isNotEmpty property="queryOrder.id"  prepend=" and ">
	                <![CDATA[ a.id <> #queryOrder.id#  ]]>
	            </isNotEmpty>
	        </dynamic>
    </select>
    

    
     <select id="MS-EXTRA-CUSTOMER-SEELCT-COMPANY-LIST-COUNT" resultClass="long">
    		SELECT COUNT(*)
	FROM customer_company_detail a , customer_base_info b 
	WHERE a.customer_id = b.customer_id 
			<dynamic>
	            <isNotEmpty property="customerCompanyDO.customerName"   prepend=" and ">
	                a.customer_name like concat('%', #customerCompanyDO.customerName#, '%')
	            </isNotEmpty>

                <isGreaterThan property="customerCompanyDO.parentId"  compareValue="0" prepend=" and ">
                    a.parent_id = #customerCompanyDO.parentId#
                </isGreaterThan>


                <isNotEmpty property="firstLevel"  prepend=" and ">
                    a.parent_id = 0 or a.parent_id is null
                </isNotEmpty>

	             <isNotEmpty property="customerCompanyDO.contactMobile"   prepend=" and ">
	                b.contact_mobile like concat('%', #customerCompanyDO.contactMobile#, '%')
	            </isNotEmpty>
	            <isNotEmpty property="customerCompanyDO.contactMan" prepend=" and ">
                    a.contact_man like concat('%', #customerCompanyDO.contactMan#, '%')
          	    </isNotEmpty>
          	     <isNotEmpty property="customerCompanyDO.mobile" prepend=" and ">
                    b.mobile = like concat('%', #customerCompanyDO.mobile#, '%')
         	    </isNotEmpty>
				<isNotEmpty property="customerCompanyDO.customerType"   prepend=" and ">
	                b.customer_type = #customerCompanyDO.customerType#
	            </isNotEmpty>
	            <isNotEmpty property="customerCompanyDO.certType"   prepend=" and ">
	                b.cert_type = #customerCompanyDO.certType#
	            </isNotEmpty>
	            <isNotEmpty property="customerCompanyDO.certNo"  prepend=" and ">
	                b.cert_no = #customerCompanyDO.certNo#
	            </isNotEmpty>

                <isNotEmpty property="customerCompanyDO.companyNature"  prepend=" and ">
                    a.company_nature = #customerCompanyDO.companyNature#
                </isNotEmpty>

                <isNotEmpty property="customerCompanyDO.businessUserId" prepend=" and ">
                    (b.business_user_id like concat('%', #customerCompanyDO.businessUserId#, '%') or b.business_user_id is null or b.business_user_id='')
                </isNotEmpty>

                <isNotEmpty property="abbr" prepend=" and ">
                    (b.abbr1 like concat('%',#abbr#,'%') or b.abbr2  like concat('%',#abbr#,'%')  or b.abbr3 like concat('%',#abbr#,'%')  )
                </isNotEmpty>

                <isNotEmpty property="isThirdParty" prepend=" and ">
                   (b.customer_type = 'INSURANCE_INSTITUTIONS' or b.customer_type ='THIRD_PARTY_MECHANISM')
            </isNotEmpty>
	        </dynamic>
    </select>
    
     <select id="MS-COMPANY-CUSTOMER-BY-CONDITION-EXTRA" resultMap="RM-EXTRA-COMPANY-CUSTOMER-DETAIL-M">
        <![CDATA[
	        SELECT  cu.user_id,cu.customer_id,cu.customer_name,cu.contact_mobile,cu.cert_type,cu.cert_no,cu.cert_exp_date,
	        cu.country_code,cu.country_name,cu.province_code,cu.province_name,cu.city_code,cu.city_name,cu.county_code,
	        cu.county_name,cu.address,cu.email,cu.mobile,cu.telphone,cu.fix,cu.weixin,cu.qq,cu.abbr1,cu.abbr2,cu.abbr3,cu.owner_id ,cu.owner_user_name,cu.out_user,cu.referee_id,cu.referee_name,
	        cu.status,cu.business_user_id,cu.business_user_name,cu.creator_id,cu.creator_name, cu.customer_type,cu.raw_add_time,cu.raw_update_time,cu.remark
	        ,cup.enterprise_type,cup.register_capital,cup.actual_capital,cup.established_time,cup.scale,cup.staff_num,cup.contact_man,cup.contact_email,cup.busi_scope,cup.websit
	        ,cup.legal_persion,cup.legal_persion_cert_no,cup.legal_persion_address,cup.actual_control_man,cup.actual_control_man_cert_no,cup.contact_man_id,
	        cup.actual_control_man_cert_type,cup.actual_control_man_address,cup.parent_id,cup.parent_name ,cup.kind ,cup.company_type,cup.company_nature from customer_base_info cu,customer_company_detail cup
	        where cu.customer_id=cup.customer_id
	    ]]>
        <dynamic>
            <isNotEmpty property="customerCompanyDO.customerName" prepend=" and ">
                cu.customer_name like concat('%', #customerCompanyDO.customerName#, '%')
            </isNotEmpty>

            <isGreaterThan property="customerCompanyDO.parentId"  compareValue="0" prepend=" and ">
                cup.parent_id = #customerCompanyDO.parentId#
            </isGreaterThan>
            
            <isNotEmpty property="customerCompanyDO.contactMobile" prepend=" and ">
                cu.contact_mobile = #customerCompanyDO.contactMobile#
            </isNotEmpty>
			
			<isNotEmpty property="customerCompanyDO.contactMan" prepend=" and ">
                cup.contact_man like concat('%', #customerCompanyDO.contactMan#, '%')
            </isNotEmpty>
			
            <isNotEmpty property="customerCompanyDO.certType" prepend=" and ">
                cu.cert_type = #customerCompanyDO.certType#
            </isNotEmpty>

            <isNotEmpty property="customerCompanyDO.mobile" prepend=" and ">
                cu.mobile = like concat('%', #customerCompanyDO.mobile#, '%')
            </isNotEmpty>

            <isNotEmpty property="customerCompanyDO.certNo" prepend=" and ">
                cu.cert_no = #customerCompanyDO.certNo#
            </isNotEmpty>
            
             <isNotEmpty property="customerCompanyDO.customerType" prepend=" and ">
                cu.customer_type = #customerCompanyDO.customerType#
            </isNotEmpty>

            <isNotEmpty property="customerCompanyDO.companyNature"  prepend=" and ">
                cup.company_nature = #customerCompanyDO.companyNature#
            </isNotEmpty>

            <isNotEmpty property="customerCompanyDO.businessUserId" prepend=" and ">
                (cu.business_user_id like concat('%', #customerCompanyDO.businessUserId#, '%') or cu.business_user_id is null or cu.business_user_id='')
            </isNotEmpty>
            
            
              <isNotEmpty property="abbr" prepend=" and ">
                   (cu.abbr1 like concat('%',#abbr#,'%') or cu.abbr2  like concat('%',#abbr#,'%')  or cu.abbr3 like concat('%',#abbr#,'%')  )
            </isNotEmpty>


            <isNotEmpty property="firstLevel"  prepend=" and ">
                cup.parent_id = 0 or cup.parent_id is null
            </isNotEmpty>


            <isNotEmpty property="isThirdParty" prepend=" and ">
                (cu.customer_type = 'INSURANCE_INSTITUTIONS' or cu.customer_type ='THIRD_PARTY_MECHANISM')
            </isNotEmpty>

            <isNotEmpty property="sortCol" prepend=" order by ">
                $sortCol$
                <isNotEmpty property="sortOrder">
                    $sortOrder$
                </isNotEmpty>
            </isNotEmpty>

            <isEmpty property="sortCol" prepend=" order by ">
                cu.raw_add_time desc,cu.raw_update_time desc
            </isEmpty>
        </dynamic>

        LIMIT #limitStart#,#pageSize#;
    </select>




    <select id="MS-EXTRA-PRICE-CONTACT-LETTER-BY-CONDITION" resultMap="MS-EXTRA-RM-PRICE-CONTACT-LETTER">
        SELECT <include refid="formCommonSql"/>,
        p.id ,p.bill_no ,p.price_type ,p.price_template ,p.catalog_id ,p.business_condition_id ,p.business_conditions
        ,p.name ,p.customer_user_id ,p.customer_user_name ,p.raw_add_time ,p.raw_update_time ,p.version ,p.ext,creator_id,creator_name,p.status letterStatus
        FROM form f
        INNER JOIN price_contact_letter p
        ON f.form_id = p.form_id
        WHERE f.status != 'DELETED' AND (f.status != 'DRAFT' OR f.user_id = #draftUserId#)
        <dynamic>
            <isGreaterThan property="formId"  compareValue="0" prepend=" and ">
                f.form_id = #formId#
            </isGreaterThan>
            <isNotEmpty property="priceContactLetterExtra.customerType" prepend=" and ">
                p.customer_type =#priceContactLetterExtra.customerType#
            </isNotEmpty>

        </dynamic>
        <isNotEmpty property="sortCol" prepend=" order by ">
            $sortCol$
            <isNotEmpty property="sortOrder">
                $sortOrder$
            </isNotEmpty>
        </isNotEmpty>
        <isEmpty property="sortCol">
            order by   p.raw_add_time  desc
        </isEmpty>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>


    <select id="MS-EXTRA-PRICE-CONTACT-LETTER-BY-CONDITION-COUNT" resultClass="long">
        SELECT count(*)
        FROM form f
        INNER JOIN price_contact_letter p
        ON f.form_id = p.form_id
        WHERE f.status != 'DELETED' AND (f.status != 'DRAFT' OR f.user_id = #draftUserId#)
        <dynamic>
            <isGreaterThan property="formId"  compareValue="0" prepend=" and ">
                f.form_id = #formId#
            </isGreaterThan>

            <isNotEmpty property="priceContactLetterExtra.customerType" prepend=" and ">
                p.customer_type =#priceContactLetterExtra.customerType#
            </isNotEmpty>

        </dynamic>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>



 <select id="MS-EXTRA-PROJECT-SET-UP-CONDITION" resultMap="MS-EXTRA-RM-PROJECT-SET-UP">
        SELECT <include refid="formCommonSql"/>,
        p.project_setup_id,p.project_setup_name,p.customer_user_id,p.customer_user_name,p.beginDate,p.endDate,p.raw_add_time ,p.raw_update_time ,p.creator_id,p.creator_name
        FROM form f
        INNER JOIN project_setup p
        ON f.form_id = p.form_id
        WHERE f.status != 'DELETED' AND (f.status != 'DRAFT' OR f.user_id = #draftUserId#)
        <dynamic>
       	    <isNotEmpty property="projectSetupExtra.status" prepend="and">
             f.status = #projectSetupExtra.status#
         	</isNotEmpty>
       		<isNotEmpty property="projectSetupExtra.projectSetupName" prepend="and">
            p.project_setup_name like concat('%',#projectSetupExtra.projectSetupName#,'%')
         	</isNotEmpty>
         	<isNotEmpty property="projectSetupExtra.setupUserName" prepend="and">
             p.setup_user_name like concat('%',#projectSetupExtra.setupUserName#,'%')
         	</isNotEmpty>
         	<isNotEmpty property="projectSetupExtra.creatorName" prepend="and">
             p.creator_name like concat('%',#projectSetupExtra.creatorName#,'%')
         	</isNotEmpty>
         	 <isNotEmpty property="projectSetupExtra.beginDate" prepend=" and ">
                p.beginDate >= #projectSetupExtra.beginDate#
            </isNotEmpty>
            <isNotEmpty property="projectSetupExtra.endDate"  prepend=" and ">
                <![CDATA[ p.endDate <= #projectSetupExtra.endDate#  ]]>
            </isNotEmpty>
            <isNotEmpty property="currentSystemTime"  prepend=" and ">
                <![CDATA[DATE_FORMAT(p.beginDate,'%Y-%m-%d') <= DATE_FORMAT(#currentSystemTime#,'%Y-%m-%d') and DATE_FORMAT(p.endDate ,'%Y-%m-%d') >= DATE_FORMAT(#currentSystemTime#,'%Y-%m-%d') ]]>
            </isNotEmpty>
            <isGreaterThan property="formId"  compareValue="0" prepend=" and ">
                f.form_id = #formId#
            </isGreaterThan>
        </dynamic>
         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>


    <select id="MS-EXTRA-EXTRA-PROJECT-SET-UP-BY-CONDITION-COUNT" resultClass="long">
        SELECT count(*)
        FROM form f
        INNER JOIN project_setup P
        ON f.form_id = P.form_id
        WHERE f.status != 'DELETED' AND (f.status != 'DRAFT' OR f.user_id = #draftUserId#)
        <dynamic>
      	    <isNotEmpty property="projectSetupExtra.status" prepend="and">
             f.status = #projectSetupExtra.status#
         	</isNotEmpty>
        	<isNotEmpty property="projectSetupExtra.projectSetupName" prepend="and">
             P.project_setup_name like concat('%',#projectSetupExtra.projectSetupName#,'%')
         	</isNotEmpty>
         	<isNotEmpty property="projectSetupExtra.setupUserName" prepend="and">
             P.setup_user_name like concat('%',#projectSetupExtra.setupUserName#,'%')
         	</isNotEmpty>
         	<isNotEmpty property="projectSetupExtra.creatorName" prepend="and">
             P.creator_name like concat('%',#projectSetupExtra.creatorName#,'%')
         	</isNotEmpty>
         	 <isNotEmpty property="projectSetupExtra.beginDate" prepend=" and ">
                P.beginDate >= #projectSetupExtra.beginDate#
            </isNotEmpty>
            <isNotEmpty property="projectSetupExtra.endDate"  prepend=" and ">
                <![CDATA[ P.endDate <= #projectSetupExtra.endDate#  ]]>
            </isNotEmpty>
            <isNotEmpty property="currentSystemTime"  prepend=" and ">
                <![CDATA[DATE_FORMAT(P.beginDate,'%Y-%m-%d') <= DATE_FORMAT(#currentSystemTime#,'%Y-%m-%d') and DATE_FORMAT(P.endDate ,'%Y-%m-%d') >= DATE_FORMAT(#currentSystemTime#,'%Y-%m-%d')  ]]>
            </isNotEmpty>
            <isGreaterThan property="formId"  compareValue="0" prepend=" and ">
                f.form_id = #formId#
            </isGreaterThan>
        </dynamic>
        
    </select>




 <select id="MS-INSURANCE-CONTACT-LETTER-CONDITION" resultMap="MS-EXTRA-RM-INSURANCE-CONTACT-LETTER">
        SELECT <include refid="formCommonSql"/>,
        i.letter_id,i.customer_user_id,i.customer_user_name,i.customer_user_phone,i.status as letter_status,i.is_quota,i.insurance_type,i.product_id,i.product_name,i.creator_id,i.creator_name,i.raw_add_time,i.raw_update_time
        FROM form f
        INNER JOIN insurance_contact_letter i
        ON f.form_id = i.form_id
        WHERE f.status != 'DELETED' AND (f.status != 'DRAFT' OR f.user_id = #draftUserId#)
        <dynamic>
       	    <isNotEmpty property="insuranceContactLetterExtra.status" prepend="and">
             f.status = #insuranceContactLetterExtra.status#
         	</isNotEmpty>
         	
         	 <isNotEmpty property="insuranceContactLetterExtra.customerUserName" prepend="and">
             i.customer_user_name like CONCAT('%',#insuranceContactLetterExtra.customerUserName#,'%') 
         	</isNotEmpty>
       		
            <isGreaterThan property="formId"  compareValue="0" prepend=" and ">
                f.form_id = #formId#
            </isGreaterThan>
            
        </dynamic>
         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>


    <select id="MS-INSURANCE-CONTACT-LETTER-COUNT" resultClass="long">
        SELECT count(*)
        FROM form f
        INNER JOIN insurance_contact_letter i
        ON f.form_id = i.form_id
        WHERE f.status != 'DELETED' AND (f.status != 'DRAFT' OR f.user_id = #draftUserId#)
        <dynamic>
       	    <isNotEmpty property="insuranceContactLetterExtra.status" prepend="and">
             f.status = #insuranceContactLetterExtra.status#
         	</isNotEmpty>
         	
         	 <isNotEmpty property="insuranceContactLetterExtra.customerUserName" prepend="and">
             i.customer_user_name like CONCAT('%',#insuranceContactLetterExtra.customerUserName#,'%') 
         	</isNotEmpty>
       		
            <isGreaterThan property="formId"  compareValue="0" prepend=" and ">
                f.form_id = #formId#
            </isGreaterThan>
            
        </dynamic>
      
    </select>

    <select id="MS-PERSON-COMMISSION-IN-COME-COUNT" resultClass="String">
    	 SELECT CASE when (SUM(commission_amount) is null) then 0 else SUM(commission_amount) end as commission_amount  from person_commission_detail where commission_type='INCOME'
        <dynamic>
	            <isGreaterThan property="businessUserId"  compareValue="0" prepend=" and ">
	                business_user_id = #businessUserId#
	            </isGreaterThan>
	            <isNotEmpty property="beginDate"   prepend=" and ">
	               <![CDATA[ commission_time >= #beginDate#  ]]> 
	            </isNotEmpty>
	            <isNotEmpty property="endDate"   prepend=" and ">
	               <![CDATA[ commission_time <= #endDate#  ]]> 
	            </isNotEmpty>
	          </dynamic>
    </select>


    <select id="MS-PERSON-COMMISSION-EXTRACTTOTAL-COUNT" resultClass="String">
    	 SELECT CASE when (SUM(commission_amount) is null) then 0 else SUM(commission_amount) end  as commission_amount  from person_commission_detail where commission_type='EXPENDITURE'
        <dynamic>
	            <isGreaterThan property="businessUserId"  compareValue="0" prepend=" and ">
	                business_user_id = #businessUserId#
	            </isGreaterThan>
	            <isNotEmpty property="beginDate"   prepend=" and ">
	               <![CDATA[ commission_time >= #beginDate#  ]]> 
	            </isNotEmpty>
	            <isNotEmpty property="endDate"   prepend=" and ">
	               <![CDATA[ commission_time <= #endDate#  ]]> 
	            </isNotEmpty>
	          </dynamic>
    </select>

    <select id="MS-PERSON-COMMISSION-LASTTOTAL-COUNT" resultClass="String">
    	 SELECT commission_amount from person_commission_detail where 1=1
      		  <dynamic>
	            <isGreaterThan property="businessUserId"  compareValue="0" prepend=" and ">
	                business_user_id = #businessUserId#
	            </isGreaterThan>
	             <isNotEmpty property="beginDate"   prepend=" and ">
	              <![CDATA[  commission_time < #beginDate#  ]]>  ORDER BY commission_time DESC LIMIT 0,1
	            </isNotEmpty>
	             <isEmpty property="beginDate">
	                ORDER BY commission_time ASC LIMIT 0,1
	            </isEmpty>
	          </dynamic>
	         
    </select>


    <select id="MS-PERSON-COMMISSION-XAXISDATA-SELECT" resultClass="String">
    	SELECT GROUP_CONCAT(t.commission_time) as commission_time from (
	 		SELECT DATE_FORMAT(commission_time,'%Y-%m-%d') as commission_time from person_commission_detail where 1=1
	 		<dynamic>
		            <isGreaterThan property="businessUserId"  compareValue="0" prepend=" and ">
		                business_user_id = #businessUserId#
		            </isGreaterThan>
		             <isNotEmpty property="beginDate"   prepend=" and ">
		               date_format(commission_time,'%Y-%m-%d') >= #beginDate#
		            </isNotEmpty>
		            <isNotEmpty property="endDate"   prepend=" and ">
		               <![CDATA[  date_format(commission_time,'%Y-%m-%d') <= #endDate#  ]]> 
		            </isNotEmpty>
		          </dynamic>
	 		 GROUP BY DATE_FORMAT(commission_time,'%Y-%m-%d') ORDER BY commission_time ASC
 		 )t
    </select>

    <select id="MS-PERSON-COMMISSION-POSITIVEDATA-SELECT" resultMap="MS-EXTRA-RM-PERSON-COMMISSION-DETAIL">
	 		SELECT SUM(commission_amount) as commission_amount,DATE_FORMAT(commission_time,'%Y-%m-%d') as commission_time from person_commission_detail where commission_type = 'INCOME'
	 		<dynamic>
		            <isGreaterThan property="businessUserId"  compareValue="0" prepend=" and ">
		                business_user_id = #businessUserId#
		            </isGreaterThan>
		             <isNotEmpty property="beginDate"   prepend=" and ">
		               date_format(commission_time,'%Y-%m-%d') >= #beginDate#
		            </isNotEmpty>
		            <isNotEmpty property="endDate"   prepend=" and ">
		               <![CDATA[  date_format(commission_time,'%Y-%m-%d') <= #endDate#  ]]> 
		            </isNotEmpty>
		     </dynamic>
	 		GROUP BY DATE_FORMAT(commission_time,'%Y-%m-%d') ORDER BY commission_time ASC
    </select>



    <select id="MS-PERSON-COMMISSION-NEGATIVEXDATA-SELECT" resultMap="MS-EXTRA-RM-PERSON-COMMISSION-DETAIL">
	 		SELECT SUM(commission_amount) as commission_amount,DATE_FORMAT(commission_time,'%Y-%m-%d') as commission_time from person_commission_detail where commission_type = 'EXPENDITURE'
	 		<dynamic>
		            <isGreaterThan property="businessUserId"  compareValue="0" prepend=" and ">
		                business_user_id = #businessUserId#
		            </isGreaterThan>
		             <isNotEmpty property="beginDate"   prepend=" and ">
		               date_format(commission_time,'%Y-%m-%d') >= #beginDate#
		            </isNotEmpty>
		            <isNotEmpty property="endDate"   prepend=" and ">
		               <![CDATA[  date_format(commission_time,'%Y-%m-%d') <= #endDate#  ]]> 
		            </isNotEmpty>
		     </dynamic>
	 		GROUP BY DATE_FORMAT(commission_time,'%Y-%m-%d') ORDER BY commission_time ASC
    </select>





    <select id="select_into_map" resultClass="java.util.HashMap">
        SELECT         c.`val` age,        charge.val        FROM    insurance_protocol_charge charge,
        insurance_protocol_charge c,    (SELECT   charge_id,  node_path, parent_id, val  FROM  insurance_protocol_charge
        WHERE protocol_info_id = #productId#  AND TYPE = 'PRODUCT' AND CHARGE_TYPE = #chargeType#  AND val = #year#) a  WHERE charge.`parent_id` = a.charge_id
        AND c.`charge_id` = a.parent_id
    </select>




<select id="MS-BUSINESS-BILL-FORM-CONDITION" resultMap="MS-EXTRA-RM-BUSINESS-BILL">
        SELECT   <include refid="formCommonSql"/>,
        b.business_bill_id, b.letter_id, b.insurance_of_type, b.bill_no, b.price_no, b.renewal_no, b.batch_no, b.insurance_depart, b.insurance_team, b.insurance_broker_no, b.insurance_broker_name, b.insurance_no, b.invoice_no, b.bill_customer_id, b.bill_customer_name, b.bill_insured_id, b.bill_insured_name, b.insurance_type_id, b.insurance_type_name, b.insurance_catalog_id, b.insurance_catalog_name, b.insurance_amount, b.premium_amount, b.insuranceDate, b.beginDate, b.endDate, b.business_user_id, b.business_user_name, b.insurance_company_id, b.insurance_company_name, b.agency_company_id, b.agency_company_name,b.broker_scale,b.common_scale,b.gross_rate,b.gross_profit,b.broker_val,b.common_val, b.remark, b.sorce_business_bill_id,b.bill_status,b.status, b.version, b.creator_id, b.creator_name, b.raw_add_time, b.raw_update_time
        FROM business_bill b
        LEFT JOIN  form f
        ON b.form_id = f.form_id
        WHERE (f.status != 'DELETED' or f.status is null )
        	<dynamic>
        	
        		 <isNotEmpty property="businessBillFormDO.status" prepend="and">
	              f.status = #businessBillFormDO.status#
	         	</isNotEmpty>
	         	
        		 <isNotEmpty property="businessBillFormDO.insuranceNo" prepend="and">
	               b.insurance_no like CONCAT('%',#businessBillFormDO.insuranceNo#,'%') 
	         	</isNotEmpty>
	         	
			     <isNotEmpty property="businessBillFormDO.billCustomerName" prepend="and">
	               b.bill_customer_name like CONCAT('%',#businessBillFormDO.billCustomerName#,'%') 
	         	</isNotEmpty>
	         	
	         	 <isNotEmpty property="businessBillFormDO.insuranceBrokerName" prepend="and">
	               b.insurance_broker_name like CONCAT('%',#businessBillFormDO.insuranceBrokerName#,'%') 
	         	</isNotEmpty>
		            
		     </dynamic>
         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>


    <select id="MS-BUSINESS-BILL-FORM-COUNT" resultClass="long">
        SELECT count(*)
        FROM business_bill b
        LEFT JOIN form f
        ON  b.form_id = f.form_id
        WHERE (f.status != 'DELETED' or f.status is null)
        <dynamic>
        
        		 <isNotEmpty property="formStatus" prepend="and">
	              f.status = #formStatus#
	          	 </isNotEmpty>
	         	
        		 <isNotEmpty property="businessBillFormDO.insuranceNo" prepend="and">
	               b.insurance_no like CONCAT('%',#businessBillFormDO.insuranceNo#,'%') 
	         	 </isNotEmpty>
	         	
			     <isNotEmpty property="businessBillFormDO.billCustomerName" prepend="and">
	               b.bill_customer_name like CONCAT('%',#businessBillFormDO.billCustomerName#,'%') 
	           	 </isNotEmpty>
	         	
	         	 <isNotEmpty property="businessBillFormDO.insuranceBrokerName" prepend="and">
	               b.insurance_broker_name like CONCAT('%',#businessBillFormDO.insuranceBrokerName#,'%') 
	         	 </isNotEmpty>
		            
		     </dynamic>
    </select>
    
    
    
    <select id="MS-BILL-SETTLEMENT-FORM-CONDITION" resultMap="MS-BILL-SETTLEMENT-EXTRA-M">
        SELECT   <include refid="formCommonSql"/>,
       b.id ,b.business_bill_id ,b.insurance_no,b.broker_rank,b.form_id ,b.settlement_no ,b.type ,b.row_add_time ,b.row_update_time
        FROM bill_settlement_apply b
        LEFT JOIN  form f
        ON b.form_id = f.form_id
        WHERE (f.status != 'DELETED')
        
         <dynamic>
        
       		 <isNotEmpty property="formStatus" prepend="and">
              f.status = #formStatus#
          	 </isNotEmpty>
          	 
          	  <isNotEmpty property="businessBillFormDO.insuranceNo" prepend="and">
	               b.insurance_no like CONCAT('%',#businessBillFormDO.insuranceNo#,'%') 
	           </isNotEmpty>
	         	 
	          <isNotEmpty property="businessBillFormDO.type" prepend="and">
	               b.type like CONCAT('%',#businessBillFormDO.type#,'%') 
	         </isNotEmpty>
		            
		 </dynamic>
        	
         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>


    <select id="MS-BILL-SETTLEMENT-FORM-COUNT" resultClass="long">
        SELECT count(*)
        FROM bill_settlement_apply b
        LEFT JOIN form f
        ON  b.form_id = f.form_id
        WHERE (f.status != 'DELETED')
          <dynamic>
       		 <isNotEmpty property="formStatus" prepend="and">
              f.status = #formStatus#
          	 </isNotEmpty>
          	 
          	  <isNotEmpty property="businessBillFormDO.insuranceNo" prepend="and">
	               b.insurance_no like CONCAT('%',#businessBillFormDO.insuranceNo#,'%') 
	           </isNotEmpty>
	         	 
	          <isNotEmpty property="businessBillFormDO.type" prepend="and">
	               b.type like CONCAT('%',#businessBillFormDO.type#,'%') 
	         </isNotEmpty>
		            
		 </dynamic>
        
    </select>


<select id="MS-BUSINESS-BILL-FORM-CONDITION-BY-NO" resultMap="MS-EXTRA-RM-BUSINESS-BILL">
  SELECT   <include refid="formCommonSql"/>,
        b.business_bill_id, b.letter_id, b.insurance_of_type, b.bill_no, b.price_no, b.renewal_no, b.batch_no, b.insurance_depart, b.insurance_team, b.insurance_broker_no, b.insurance_broker_name, b.insurance_no, b.invoice_no, b.bill_customer_id, b.bill_customer_name, b.bill_insured_id, b.bill_insured_name, b.insurance_type_id, b.insurance_type_name, b.insurance_catalog_id, b.insurance_catalog_name, b.insurance_amount, b.premium_amount, b.insuranceDate, b.beginDate, b.endDate, b.business_user_id, b.business_user_name, b.insurance_company_id, b.insurance_company_name, b.agency_company_id, b.agency_company_name,b.broker_scale,b.common_scale,b.gross_rate,b.gross_profit,b.broker_val,b.common_val, b.remark, b.sorce_business_bill_id,b.bill_status, b.version, b.creator_id, b.creator_name, b.raw_add_time, b.raw_update_time
        FROM business_bill b
        LEFT JOIN  form f
        ON b.form_id = f.form_id where b.insurance_no = #insuranceNo# and f.status != 'APPROVAL' and f.status != 'DELETED'
</select>



 <select id="MS-BILL-SETTLEMENT-NOTICE-FORM-CONDITION" resultMap="MS-BILL-SETTLEMENT-NOTICE-EXTRA-M">
        SELECT   <include refid="formCommonSql"/>,
       c.id, c.business_bill_id ,c.depart ,c.team ,c.notice_date ,c.insurance_no ,c.insurance_type_name ,c.bill_customer_name ,c.premium_amount ,c.recievable_fee ,c.recieved_fee ,c.pay_fee ,c.reserved_scale ,c.notice_no ,c.bill_no ,c.insurance_broker_no ,c.insurance_broker_name ,c.commission_type ,c.persistency_rate_ward ,c.manage_grant ,c.package_fee ,c.insurance_other ,c.row_add_time ,c.row_update_time
        FROM charge_notice c
        LEFT JOIN  form f
        ON c.form_id = f.form_id
        WHERE (f.status != 'DELETED')
        
         <dynamic>
        
       		 <isNotEmpty property="formStatus" prepend="and">
              f.status = #formStatus#
          	 </isNotEmpty>
          	 
       		 <isNotEmpty property="chargeNoticeFormDO.insuranceNo" prepend="and">
              c.insurance_no like CONCAT('%',#chargeNoticeFormDO.insuranceNo#,'%') 
          	 </isNotEmpty>
          	 
       		 <isNotEmpty property="chargeNoticeFormDO.insuranceTypeName" prepend="and">
              c.insurance_type_name like CONCAT('%',#chargeNoticeFormDO.insuranceTypeName#,'%') 
          	 </isNotEmpty>
		            
		 </dynamic>
        	
         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
        <isGreaterThan property="pageSize" compareValue="0" prepend="">
            LIMIT #limitStart#,#pageSize#;
        </isGreaterThan>
    </select>


    <select id="MS-BILL-SETTLEMENT-NOTICE-FORM-COUNT" resultClass="long">
        SELECT count(*)
        FROM charge_notice c
        LEFT JOIN form f
        ON  c.form_id = f.form_id
        WHERE (f.status != 'DELETED')
          <dynamic>
       		 <isNotEmpty property="formStatus" prepend="and">
              f.status = #formStatus#
          	 </isNotEmpty>
          	 
          	  <isNotEmpty property="chargeNoticeFormDO.insuranceNo" prepend="and">
              c.insurance_no like CONCAT('%',#chargeNoticeFormDO.insuranceNo#,'%') 
          	 </isNotEmpty>
          	 
       		 <isNotEmpty property="chargeNoticeFormDO.insuranceTypeName" prepend="and">
              c.insurance_type_name like CONCAT('%',#chargeNoticeFormDO.insuranceTypeName#,'%') 
          	 </isNotEmpty>
		            
		 </dynamic>
        
    </select>

</sqlMap>